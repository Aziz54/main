<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
  <title>Accueil</title> 
  <link rel="stylesheet" href="resources/styles/style.css" type="text/css" />
  <link rel="stylesheet" href="resources/styles/connect.css" type="text/css" /> 
  <link rel="stylesheet" href="YannCSS.css" />
</h:head>
    
<h:body>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type" />
  
  <title>
      Accueil
  </title>
  
  <center>
    <img src="resources/img/banniere.png" alt=""/>
  </center>
  
  <br/><br/><br/><br/>
  
    <center>
        <h:form>
            <p:panelGrid styleClass="panel" >     
                
                <p:row>
                    <p:column><center>Espace candidat</center></p:column>
                    <p:column><center>Espace employeur</center></p:column>
                </p:row>
                
                <p:row>
                    <p:column><p class="icone"><img src="resources/img/candidat.png" /></p></p:column>
                    <p:column><p class="icone"><img src="resources/img/logo_employeur.png" /></p></p:column>
                </p:row>
                
                <p:row>
                    <p:column><center>Vous cherchez un emploi et n'êtes<br/>pas encore inscrit sur notre site ?</center></p:column>
                    <p:column><center>Vous êtes employeur et<br/>n'êtes pas encore inscrit sur notre site ?</center></p:column>
                </p:row>
                
                <p:row>
                    <p:column><center> <p:commandLink action="creationCand" value="Créer un profil candidat" ajax="false"/></center></p:column>
                    <p:column><center><p:commandLink action="creationEnt" value="Créer un profil employeur" ajax="false"/></center></p:column>
                </p:row>
                
            </p:panelGrid>
        </h:form>
    </center>
  
    <br/><br/><br/><br/><br/>  

    <center>
        <h:form>
          <p:commandButton id="showDialogButton" type="button" value="Se connecter" onclick="dlg.show();" />  
          <p:commandButton type="button" value="Statistiques" onclick="dlgStat.show();" />
       </h:form> 
       
       <br/><br/>
       <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />

       <p:dialog id="dialog"  header="Connexion" widgetVar="dlg" resizable="false">  
          <h:form id="form">  
              <p:panelGrid styleClass="panel" columns="1">  
                  
                    <p:row>
                        <p:column>
                            <h:outputText value="Login : "/> 
                        </p:column>
                        <p:column> 
                            <p:inputText id="login" value="#{connexionBean.login}" title="saisisez votre login" required="true">
                                <f:validateRegex pattern="^[^']*$" />
                            </p:inputText>
                        </p:column>
                     </p:row>

                     <p:row> 
                         <p:column>
                             <h:outputText value="Mot de passe :"/>
                         </p:column>
                         <p:column>
                             <p:password id ="mdp" value="#{connexionBean.password}" title="saisissez votre mot de passe" required="true ">
                                <f:validateRegex pattern="^[^']*$" />
                             </p:password>
                          </p:column>
                     </p:row>

                     <p:row>
                        <p:column colspan="2">
                            <br/>
                            <center>
                            <p:commandButton id="validerButton" value="Valider" oncomplete="dlg.hide();" action="#{connexionBean.connexion()}" ajax="false" />
                            </center>
                        </p:column>
                    </p:row> 
                  
              </p:panelGrid>  

          </h:form>  
          <br/>

          <h:form>
              <p:commandLink id="accueil" value="Retour accueil" action="accueil" oncomplete="dlg.hide();" />  
          </h:form>
        </p:dialog>  
       
       <p:dialog id="dialogStat" width="670" height="170" modal="true" header="Les statistiques du site" widgetVar="dlgStat" resizable="true" >  
          <h:form id="formm">  
              <p:panelGrid styleClass="panel" columns="1">  
                  
                  <p:row>
                    <p:column>
                        <h:outputText value="Nombre de candidats inscrits : "/> 
                    </p:column>
                    <p:column> 
                        <h:outputText id="statCand" value="#{connexionBean.nbCandidats()}"/>
                    </p:column>
                  </p:row>

                    <p:row>
                        <p:column>
                            <h:outputText value="Nombre d'annonces déjà postées : "/>
                        </p:column>
                        <p:column> 
                            <h:outputText id="statAnn" value="#{connexionBean.nbAnnonces()}"/>
                        </p:column>
                    </p:row>
                    
                    <p:row>
                        <p:column>
                            <h:outputText value="Nombre d'employeurs inscrits : "/> 
                        </p:column>
                        <p:column>       
                            <h:outputText id="statEmp" value="#{connexionBean.nbEmployeurs()}"/>  
                        </p:column>
                    </p:row>
               
              </p:panelGrid>  

          </h:form>  
          <br/>

          <h:form>
              <p:commandLink id="accueil1" value="Retour accueil" action="accueil" oncomplete="dlgStat.hide();" />  
          </h:form>
          
        </p:dialog>  

        <br />
  </center>

</h:body>
</html>

