<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

    <ui:fragment rendered="#{not connexionBean.isConnect}" >
    <ui:decorate template="/templateErreur.xhtml" rendered="#{not connexionBean.isConnect}">
        <link rel="stylesheet" href="YannCSS.css" />
    </ui:decorate>
    </ui:fragment>
    
    <ui:fragment rendered="#{connexionBean.isConnect}" >
    <ui:decorate template="/template.xhtml" >
        
        <ui:define name="titre">
            <h:outputText value="#{candidatManagedBean.candidat.nom} #{candidatManagedBean.candidat.prenom} "/>
        </ui:define>
		
        <ui:define name="centre" >
            <link rel="stylesheet" href="YannCSS.css" />
            <p:panelGrid styleClass="panel">
                <p:row >
                    <p:column colspan="2">
                        <h1>
                            <h:outputText value="#{candidatManagedBean.candidat.prenom} #{candidatManagedBean.candidat.nom}" /> 
                        </h1>
                       <br/>
                    </p:column>
                </p:row> 
           </p:panelGrid>

            <p:panelGrid styleClass="panel">
                 <p:row>
                    <p:column colspan="2">
                       <h2> Informations personnelles </h2> 
                       <br/>
                    </p:column>
                </p:row>
                <p:row >
                    <p:column>
                        <h:outputText value="Date de naissance : "/>
                    </p:column>
                    <p:column>
                        <h:outputText value="#{autoCompleteManagedBean.affichageDate(candidatManagedBean.candidat.date_naissance)} "/>
                    </p:column>
                </p:row> 
                    
                <p:row rendered="#{candidatManagedBean.afficherDonnees}">
                    <p:column >
                        <h:outputText value="Numéro de sécurité sociale : " />
                    </p:column>
                    <p:column>
                        <h:outputText value="#{candidatManagedBean.candidat.numSecu} "/> 
                    </p:column>
                </p:row> 
                
                <p:row rendered="#{candidatManagedBean.candidat.confidentialite}">
                    <p:column>
                        <h:outputText value="Adresse : "/>
                        <br/><br/><br/>
                    </p:column>
                    <p:column>
                        <h:outputText value="#{candidatManagedBean.candidat.adresse.rue} "/>
                        <br/>
                        <h:outputText value="#{candidatManagedBean.candidat.adresse.codePostal} #{candidatManagedBean.candidat.adresse.ville}  "/> 
                        <br/>
                        <h:outputText value="#{candidatManagedBean.candidat.adresse.pays} "/> 
                    </p:column>
                </p:row> 
                              
                <p:row rendered="#{candidatManagedBean.candidat.sitWeb.length()!=0}">
                    <p:column>
                         <h:outputText value="Site web  : "/>
                    </p:column>
                    <p:column>
                        <h:outputText value="#{candidatManagedBean.candidat.sitWeb}" />
                    </p:column>
                </p:row> 
            </p:panelGrid>
            
            <br/>
            
            <p:panelGrid styleClass="panel">
                <p:row rendered="#{candidatManagedBean.candidat.confidentialite}">
                    <p:column colspan="2">
                       <h2> Contact </h2> 
                       <br/>
                    </p:column>
                </p:row>
                
                <p:row rendered="#{candidatManagedBean.candidat.confidentialite}">
                    <p:column>
                         <h:outputText value="E-mail : "/>
                    </p:column>
                    <p:column>
                        <h:outputText value="#{candidatManagedBean.candidat.mail} "/>
                    </p:column>
                </p:row> 
                
                <p:row rendered="#{candidatManagedBean.candidat.confidentialite}">
                    <p:column>
                         <h:outputText value="Téléphone : "/>
                    </p:column>
                    <p:column>
                         <h:outputText value="#{candidatManagedBean.candidat.telephone} "/>
                    </p:column>
                </p:row> 
            </p:panelGrid>
            
            <br/>
            
            <p:panelGrid styleClass="panel">
                <p:row>
                    <p:column colspan="2">
                       <h2> Formation professionnelle </h2> 
                       <br/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                         <h:outputText value="Niveau d'études : "/>
                    </p:column>
                    <p:column>
                        <h:outputText value="#{candidatManagedBean.candidat.niveauEtudes} "/>
                    </p:column>
                </p:row> 
                
                <p:row>
                    <p:column>
                        <h:outputText value="Domaine d'études : "/>
                    </p:column>
                    <p:column>                     
                        <h:outputText value="#{candidatManagedBean.candidat.domaineEtudes} "/>
                    </p:column>
                </p:row>
                
                <p:row rendered="#{candidatManagedBean.candidat.langues.size()!=0}">
                    <p:column>
                        <h:outputText value="Compétence linguistiques :"/>
                    </p:column>
                    <p:column>  
                        <h:form>  
                            <p:dataTable id="data-table" var="langue" value="#{candidatManagedBean.candidat.langues}" styleClass="data-table">  
                                <p:column>  
                                    <h:outputText value="#{langue}" />  
                                </p:column>   
                            </p:dataTable>  
                        </h:form>  
                    </p:column>
                </p:row>
                
                <p:row rendered="#{candidatManagedBean.candidat.experiences.size()!=0}">
                    <p:column>
                        <h:outputText value="Expérience(s) professionnelle(s) :"/>
                    </p:column>
                    <p:column>                        
                        <h:form>  
                            <p:dataTable  var="exp" value="#{candidatManagedBean.candidat.experiences}" styleClass="data-table">  
                                <p:column>  
                                    <h:outputText value="#{exp}" />  
                                </p:column>   
                            </p:dataTable>  
                        </h:form> 
                    </p:column>
                </p:row>
                
                <p:row>
                    <p:column>
                        <h:outputText value="Nombre d'années d'expérience  : "/>
                    </p:column>
                    <p:column>                     
                        <h:outputText value="#{candidatManagedBean.candidat.nbExperiences} "/>
                    </p:column>
                </p:row>                                             
            </p:panelGrid>
            
            <br/><br/><br/>
            <h:form>
            <p:panelGrid styleClass="panel">
                
                <p:row rendered="#{connexionBean.employeur ne null}">
                    <p:column colspan="2">
                            <p:commandButton value="Suggérer ce candidat" action="creationSuggestion" ajax="false" >
                                <f:param name="candidat" value="#{candidatManagedBean.candidat.id}"/>
                            </p:commandButton>
                    </p:column>
                </p:row> 
                
                <p:row>
                    <p:column>
                        <p:commandButton action="#{profilEmpBean.ajouterAMaListeSuivi(candidatManagedBean.candidat)}" value="Suivre ce candidat" ajax="false" disabled="#{profilEmpBean.containsCandidat(candidatManagedBean.candidat)}" rendered="#{connexionBean.employeur ne null}"/>
                    </p:column>
                </p:row>
                
           </p:panelGrid>
           <br/><br/><br/>
           </h:form>
            
        </ui:define>
        
    </ui:decorate>
    </ui:fragment>
    

                     
       
</html>