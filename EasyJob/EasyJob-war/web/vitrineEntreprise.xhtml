<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    
    <ui:fragment rendered="#{not connexionBean.isConnect}" >
    <ui:decorate template="/templateErreur.xhtml" rendered="#{not connexionBean.isConnect}">
        <link rel="stylesheet" href="YannCSS.css" />
    </ui:decorate>
    </ui:fragment>
    
    <ui:fragment rendered="#{connexionBean.isConnect}" >
    <ui:decorate template="/template.xhtml" >
        
        <ui:define name="titre">
            <h:outputText value="#{entrepriseManagedBean.entreprise.nomEntreprise}"/>
        </ui:define>
		
        <ui:define name="centre" >
            <link rel="stylesheet" href="YannCSS.css" />
            <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true"/>
            
            <p:panelGrid styleClass="panel">
                <p:row >
                    <p:column colspan="2">
                        <h1>
                            <h:outputText value="#{entrepriseManagedBean.entreprise.nomEntreprise}" /> 
                        </h1>
                       <br/>
                    </p:column>
                </p:row> 
            </p:panelGrid>
            
            <br/><br/>
            
            <p:panelGrid styleClass="panel">
                <p:row>
                    <p:column>
                        <h:outputText value="Domaine d'activité : "/>
                    </p:column>
                    <p:column>
                        <h:outputText value="#{entrepriseManagedBean.entreprise.domaine}" />
                    </p:column>
                </p:row> 
                
                <p:row>
                    <p:column>
                        <h:outputText value="Statut : "/>
                    </p:column>
                    <p:column>
                        <h:outputText value="#{entrepriseManagedBean.entreprise.statut}" />
                    </p:column>
                </p:row> 
                
                <p:row>
                    <p:column>
                        <h:outputText value="Adresse : "/>
                        <br/><br/><br/>
                    </p:column>
                    <p:column>
                        <h:outputText value="#{entrepriseManagedBean.entreprise.adresse.rue}" />
                        <br/>
                        <h:outputText value="#{entrepriseManagedBean.entreprise.adresse.codePostal} #{entrepriseManagedBean.entreprise.adresse.ville}" />
                        <br/>
                        <h:outputText value="#{entrepriseManagedBean.entreprise.adresse.pays}" />
                    </p:column>
                </p:row> 
                
                <p:row>
                    <p:column>
                         <h:outputText value="Téléphone : "/>
                    </p:column>
                    <p:column>
                        <h:outputText value="#{entrepriseManagedBean.entreprise.telephone}" />
                    </p:column>
                </p:row> 
                
                <p:row rendered="#{entrepriseManagedBean.entreprise.siteWeb.length()!=0}">
                    <p:column>
                         <h:outputText value="Site web : "/>
                    </p:column>
                    <p:column>
                        <h:outputText value="#{entrepriseManagedBean.entreprise.siteWeb}" />
                    </p:column>
                </p:row> 
                
                <p:row rendered="#{entrepriseManagedBean.entreprise.siteWeb ne null and entrepriseManagedBean.entreprise.description.length()!=0}">
                    <p:column>
                         <h:outputText value="Description de l'entreprise : "/>
                    </p:column>
                    <p:column>
                        <h:outputText value="#{entrepriseManagedBean.entreprise.description}" />
                    </p:column>
                </p:row> 
                
                <p:row rendered="#{entrepriseManagedBean.entreprise.nbEmployes ne null and entrepriseManagedBean.entreprise.nbEmployes.length()!=0}">
                    <p:column>
                         <h:outputText value="Nombre d'employés : "/>
                    </p:column>
                    <p:column>
                        <h:outputText value="#{entrepriseManagedBean.entreprise.nbEmployes}" />
                    </p:column>
                </p:row> 
                
                <p:row rendered="#{entrepriseManagedBean.afficherRecruteur}">
                    <p:column>
                        <h:outputText value="Recruteur(s) : "/>
                    </p:column>
                    <p:column>                     
                        <h:form>  
                            <p:dataTable id="data-table" var="rec" value="#{entrepriseManagedBean.entreprise.employeurs}" styleClass="data-table">  
                                <p:column rendered="#{rec.confidentialite}">  
                                    <h:outputText value="#{rec.nom} #{rec.prenom}" />  
                                    <br/>
                                    <h:outputText value="#{rec.mail}" /> 
                                    <br/>
                                    <h:outputText value="#{rec.telephone}" rendered="#{rec.telephone ne null}" />  
                                </p:column>   
                            </p:dataTable>  
                        </h:form>  
                    </p:column>
                </p:row>
                
                <p:row rendered="#{connexionBean.candidat ne null}">
                    <p:column colspan="2" >
                        <h:form>
                            <br/>
                            <p:commandButton  value="Suivre cette entreprise" ajax="false" action="#{profilcandBean.ajouterSuivi()}"  disabled="#{entrepriseManagedBean.suivi()}">
                                <f:param name="entreprise" value="#{entrepriseManagedBean.entreprise.id}"/>
                            </p:commandButton>
                        </h:form>             
                    </p:column>
                </p:row>
                             
            </p:panelGrid>
            
           <br/><br/>
           
            <h:form>
                <p:commandButton rendered="#{connexionBean.candidat ne null}" value="Déposer une candidature spontanée" action="candidatureSpontanee" immediate="true" ajax="false" disabled="#{entrepriseManagedBean.aDeposerCand()}"/>
            </h:form>
            
           <br/><br/><br/>
           
        </ui:define>
        
    </ui:decorate></ui:fragment>

        
        
                
</html>